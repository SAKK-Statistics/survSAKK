surv.plot(fit_lung_arm_m,
col = c("cadetblue2", "cadetblue"),
legend.name = c("male", "female"),
time.unit = "month",
segment.quantile = 0.5,
segment.lwd = 2,
segment.lty = "dashed",
segment.annotation.space = 0.1
)
surv.plot(fit_lung_arm_m,
col = c("cadetblue2", "cadetblue"),
legend.name = c("male", "female"),
time.unit = "month",
segment.quantile = 0.5,
segment.confint = 0.9
)
surv.plot(fit_lung_arm_m,
col = c("cadetblue2", "cadetblue"),
legend.name = c("male", "female"),
time.unit = "month",
segment.quantile = 0.5,
segment.confint = 0.9
)
surv.plot(fit_lung_arm_m,
col = c("cadetblue2", "cadetblue"),
legend.name = c("male", "female"),
segment.quantile = 0.5,
segment.confint = 0.9
)
surv.plot(fit_lung_arm_m,
col = c("cadetblue2", "cadetblue"),
legend.name = c("male", "female"),
segment.timepoint = 18
)
surv.plot(fit_lung_arm_m,
col = c("cadetblue2", "cadetblue"),
legend.name = c("male", "female"),
segment.timepoint = 18,
segment.confint = 0.9
)
surv.plot(fit_lung_arm_m,
col = c("cadetblue2", "cadetblue"),
legend.name = c("male", "female"),
segment.quantile = 0.5,
segment.confint = false
)
surv.plot(fit_lung_arm_m,
col = c("cadetblue2", "cadetblue"),
legend.name = c("male", "female"),
segment.quantile = 0.5,
segment.confint = FALSE
)
surv.plot(fit_lung_arm_m,
col = c("cadetblue2", "cadetblue"),
legend.name = c("male", "female"),
time.unit = "month"
segment.quantile = 0.5,
surv.plot(fit_lung_arm_m,
col = c("cadetblue2", "cadetblue"),
legend.name = c("male", "female"),
time.unit = "month",
segment.quantile = 0.5,
segment.confint = FALSE
)
surv.plot(fit_lung_arm_m,
col = c("cadetblue2", "cadetblue"),
legend.name = c("male", "female"),
segment.timepoint = 18,
time.unit = "month"
)
surv.plot(fit_lung_arm_m,
col = c("cadetblue2", "cadetblue"),
legend.name = c("male", "female"),
segment.timepoint = 18,
time.unit = "month",
segment.confint = FALSE
)
surv.plot(fit_lung_arm_m,
col = c("cadetblue2", "cadetblue"),
legend.name = c("male", "female"),
time.unit = "month",
segment.timepoint = 18,
segment.confint = FALSE,
segment.annotation = "top"
)
surv.plot(fit_lung_arm_m,
col = c("cadetblue2", "cadetblue"),
legend.name = c("male", "female"),
time.unit = "month",
segment.timepoint = 18,
segment.confint = FALSE,
segment.annotation = "bottom"
)
surv.plot(fit_lung_arm_m,
col = c("cadetblue2", "cadetblue"),
legend.name = c("male", "female"),
time.unit = "month",
segment.timepoint = 18,
segment.confint = FALSE,
segment.annotation = "bottomleft"
)
surv.plot(fit_lung_arm_m,
col = c("cadetblue2", "cadetblue"),
legend.name = c("male", "female"),
segment.quantile = 0.5,
confint = 0.9
)
surv.plot(fit_lung_arm_m,
col = c("cadetblue2", "cadetblue"),
legend.name = c("male", "female"),
segment.quantile = 0.5,
conf.int = 0.9
)
surv.plot(fit_lung_arm_m,
col = c("cadetblue2", "cadetblue"),
legend.name = c("male", "female"),
segment.timepoint = 18,
confint = 0.9
)
surv.plot(fit_lung_arm_m,
col = c("cadetblue2", "cadetblue"),
legend.name = c("male", "female"),
segment.timepoint = 18,
conf.int = 0.9
)
surv.plot(fit_lung_arm_m,
col = c("cadetblue2", "cadetblue"),
legend.name = c("male", "female"),
segment.quantile = 0.5,
conf.int = 0.9
)
surv.plot(fit_lung_arm_m,
col = c("cadetblue2", "cadetblue"),
legend.name = c("male", "female"),
segment.timepoint = 18,
conf.int = 0.9
)
surv.plot(fit_lung_arm_m,
col = c("cadetblue2", "cadetblue"),
legend.name = c("male", "female"),
segment.timepoint = 18,
conf.int = 0.9
)
surv.plot(fit_lung_arm_m,
col = c("cadetblue2", "cadetblue"),
legend.name = c("male", "female"),
segment.timepoint = 18
)
library(survSAKK)
surv.plot(fit_lung_arm_m,
col = c("cadetblue2", "cadetblue"),
legend.name = c("male", "female"),
segment.timepoint = 18,
conf.int = 0.9
)
surv.plot(fit_lung_arm_m,
col = c("cadetblue2", "cadetblue"),
legend.name = c("male", "female"),
segment.timepoint = 18
)
surv.plot(fit_lung_arm_m,
col = c("cadetblue2", "cadetblue"),
legend.name = c("male", "female"),
segment.quantile = 0.5,
conf.int = 0.9
)
surv.plot(fit_lung_arm_m,
col = c("cadetblue2", "cadetblue"),
legend.name = c("male", "female"),
segment.timepoint = 18,
conf.int = 0.9
)
surv.plot(fit_lung_arm_m,
col = c("cadetblue2", "cadetblue"),
legend.name = c("male", "female"),
segment.timepoint = 18
)
surv.plot(fit_lung_arm_m,
col = c("cadetblue2", "cadetblue"),
legend.name = c("male", "female"),
stat = "logrank",
stat.position = "right"
)
surv.plot(fit_lung_arm_m,
col = c("cadetblue2", "cadetblue"),
legend.name = c("male", "female"),
segment.quantile = 0.5,
segment.main = ""
)
surv.plot(fit_lung_arm_m,
col = c("cadetblue2", "cadetblue"),
legend.name = c("male", "female"),
segment.quantile = 0.5,
#segment.main = ""
)
surv.plot(fit_lung_arm_m,
col = c("cadetblue2", "cadetblue"),
legend.name = c("male", "female"),
segment.quantile = 0.5,
segment.main = "Median PFS"
)
surv.plot(fit_lung_arm_m,
col = c("cadetblue2", "cadetblue"),
legend.name = c("male", "female"),
segment.quantile = 0.5,
segment.main = "Median PFS (months)"
)
surv.plot(fit_lung_arm_m,
col = c("cadetblue2", "cadetblue"),
legend.name = c("male", "female"),
segment.quantile = 0.5,
segment.main = "Median PFS in months (95% CI)"
)
surv.plot(fit_lung_arm_m,
col = c("cadetblue2", "cadetblue"),
legend.name = c("male", "female"),
stat = "logrank",
stat.position = "right",
stat.col = "grey",
stat.cex = 0.8,
stat.font = 3
)
surv.plot(fit_lung_arm_m,
col = c("cadetblue2", "cadetblue"),
legend.name = c("male", "female"),
stat = "logrank",
stat.position = "right",
stat.col = "darkgrey",
stat.cex = 0.8,
stat.font = 3
)
surv.plot(fit_lung_arm_m,
col = c("cadetblue2", "cadetblue"),
legend.name = c("male", "female"),
stat = "logrank",
stat.position = "bottomleft",
stat.col = "darkgrey",
stat.cex = 0.8,
stat.font = 3
)
surv.plot(fit_lung_arm_m,
col = c("cadetblue2", "cadetblue"),
legend.name = c("male", "female"),
stat = "coxph"
)
surv.plot(fit_lung_arm_m,
col = c("cadetblue2", "cadetblue"),
legend.name = c("male", "female"),
stat = "logrank",
stat.position = "right"
)
surv.plot(fit_lung_arm_m,
col = c("cadetblue2", "cadetblue"),
legend.name = c("male", "female"),
stat = "logrank",
)
surv.plot(fit_lung_arm_m,
col = c("cadetblue2", "cadetblue"),
legend.name = c("male", "female"),
stat = "coxph"
)
surv.plot(fit_lung_arm_m,
col = c("cadetblue2", "cadetblue"),
legend.name = c("male", "female"),
stat = "coxph_logrank"
)
surv.plot(fit_lung_arm_m,
col = c("cadetblue2", "cadetblue"),
legend.name = c("male", "female"),
stat = "logrank",
stat.position = "right",
stat.col = "darkgrey",
stat.cex = 0.8,
stat.font = 3
)
surv.plot(fit_lung_arm_m,
col = c("cadetblue2", "cadetblue"),
legend.name = c("male", "female"),
stat = "logrank",
stat.position = "right",
stat.col = "darkgrey",
stat.cex = 1.2,
stat.font = 3
)
surv.plot(fit_lung_arm_m,
col = c("cadetblue2", "cadetblue"),
legend.name = c("male", "female"),
stat = "coxph_logrank"
)
View(lung)
## Use stratification for the statistics
hist(lung$ph.karno)
?lung
surv.plot(fit_lung_arm_m,
col = c("cadetblue2", "cadetblue"),
legend.name = c("male", "female"),
stat = "coxph_logrank"
)
surv.plot(fit_lung_arm_m,
stat.fit = fit_lung_stratified,
col = c("cadetblue2", "cadetblue"),
legend.name = c("male", "female"),
stat = "coxph_logrank"
)
fit_lung_stratified <- fit_lung_arm_m <- survfit(Surv(time_m, status) ~ sex + strata(ph.ecog), data = lung)
surv.plot(fit_lung_arm_m,
stat.fit = fit_lung_stratified,
col = c("cadetblue2", "cadetblue"),
legend.name = c("male", "female"),
stat = "coxph_logrank"
)
surv.plot(fit = fit_lung_arm_m,
col = c("cadetblue2", "cadetblue"),
legend.name = c("male", "female"),
stat = "coxph_logrank"
)
library(survival)
# Load data
veteran <- survival::veteran
str(veteran)
veteran$time_m <- veteran$time/365.25*12
veteran$time_w <- veteran$time/7
veteran$time_y <- veteran$time/365.25
# Create survival objects
fit_d <- survfit(Surv(time, status) ~ 1, data = veteran)
fit_m <- survfit(Surv(time_m, status) ~ 1, data = veteran)
fit_w <- survfit(Surv(time_w, status) ~ 1, data = veteran)
fit_y <- survfit(Surv(time_y, status) ~ 1, data = veteran)
fit_arm_d <- survfit(Surv(time, status) ~ trt, data = veteran)
fit_arm_m <- survfit(Surv(time_m, status) ~ trt, data = veteran)
fit_arm_w <- survfit(Surv(time_w, status) ~ trt, data = veteran)
fit_arm_y <- survfit(Surv(time_y, status) ~ trt, data = veteran)
fit_celltype_d <- survfit(Surv(time, status) ~ celltype, data = veteran)
fit_celltype_m <- survfit(Surv(time_m, status) ~ celltype, data = veteran)
fit_celltype_w <- survfit(Surv(time_w, status) ~ celltype, data = veteran)
fit_celltype_y <- survfit(Surv(time_y, status) ~ celltype, data = veteran)
View(lung)
lung$time_m <- lung$time/365.25*12
lung$time_y <- lung$time/365.25
fit_lung_d <- survfit(Surv(time, status) ~ 1, data = lung)
fit_lung_m <- survfit(Surv(time_m, status) ~ 1, data = lung)
fit_lung_y <- survfit(Surv(time_y, status) ~ 1, data = lung)
fit_lung_arm_d <- survfit(Surv(time, status) ~ sex, data = lung)
fit_lung_arm_m <- survfit(Surv(time_m, status) ~ sex, data = lung)
fit_lung_arm_y <- survfit(Surv(time_y, status) ~ sex, data = lung)
surv.plot(fit_lung_arm_m,
col = c("cadetblue2", "cadetblue"),
legend.name = c("male", "female"),
stat = "coxph_logrank"
)
fit_lung_stratified <- survfit(Surv(time_m, status) ~ sex + strata(ph.ecog), data = lung)
surv.plot(fit_lung_arm_m,
stat.fit = fit_lung_stratified,
col = c("cadetblue2", "cadetblue"),
legend.name = c("male", "female"),
stat = "coxph_logrank"
)
getwd()
devtools::build_vignettes()
devtools::clean_vignettes()
devtools::build_vignettes()
plot(1:10)
text("Hallo", col = "green")
text("Hallo", x = 4, y = 7, col = "green")
a <- text("Hallo", x = 4, y = 7, col = "green")
a
eval(a)
a <- text("Hallo", x = 4, y = 7, col = "green")
a
devtools::build_vignettes()
# Load required libraries
library(survSAKK)
library(survival)
# Load lung data
lung <- survival::lung
# Compute survival time in months and years
lung$time_m <- lung$time/365.25*12
lung$time_y <- lung$time/365.25
# Create survival objects
fit_lung_d <- survfit(Surv(time, status) ~ 1, data = lung)
fit_lung_m <- survfit(Surv(time_m, status) ~ 1, data = lung)
fit_lung_y <- survfit(Surv(time_y, status) ~ 1, data = lung)
fit_lung_arm_d <- survfit(Surv(time, status) ~ sex, data = lung)
fit_lung_arm_m <- survfit(Surv(time_m, status) ~ sex, data = lung)
fit_lung_arm_y <- survfit(Surv(time_y, status) ~ sex, data = lung)
surv.plot(fit_lung_arm_m,
col = c("cadetblue2", "cadetblue"),
legend.name = c("male", "female"),
xticks = seq(0, 36, by = 12),
yticks = seq(0, 1, by = 10)
)
surv.plot(fit_lung_arm_m,
col = c("cadetblue2", "cadetblue"),
legend.name = c("male", "female"),
xticks = seq(0, 36, by = 12),
yticks = seq(0, 1, by = 10)
)
surv.plot(fit_lung_arm_m,
col = c("cadetblue2", "cadetblue"),
legend.name = c("male", "female"),
xticks = seq(0, 36, by = 12),
yticks = seq(0, 1, by = 0.1)
)
surv.plot(fit_lung_arm_m,
col = c("cadetblue2", "cadetblue"),
legend.name = c("male", "female"),
xticks = seq(0, 36, by = 12),
yticks = seq(0, 1, by = 0.2)
)
surv.plot(fit_lung_arm_m,
col = c("cadetblue2", "cadetblue"),
legend.name = c("male", "female"),
xticks = seq(0, 24, by = 6)
)
devtools::build_vignettes()
devtools::build_vignettes()
.Last.error
$stderr
devtools::build_vignettes()
devtools::build_vignettes()
devtools::build_vignettes()
surv.plot(fit_lung_arm_m,
col = c("cadetblue2", "cadetblue"),
legend.name = c("male", "female"),
time.unit = "month",
segment.quantile = 0.5,
segment.font = 3,
segment.main.font = 2,
segment.main = "Median PFS in months (95% CI)"
)
surv.plot(fit_lung_arm_m,
col = c("cadetblue2", "cadetblue"),
legend.name = c("male", "female"),
time.unit = "month",
segment.quantile = 0.5,
segment.font = 3,
segment.main.font = 2,
segment.main = "Median PFS in months (95% CI)",
segment.cex = 0.8
)
surv.plot(fit_lung_arm_m,
col = c("cadetblue2", "cadetblue"),
legend.name = c("male", "female"),
time.unit = "month",
segment.quantile = 0.5,
segment.font = 3,
segment.main.font = 2,
segment.main = "Median PFS in months (95% CI)",
segment.cex = 0.8,
segment.annotation.col = "gray"
)
surv.plot(fit_lung_arm_m,
col = c("cadetblue2", "cadetblue"),
legend.name = c("male", "female"),
time.unit = "month",
segment.quantile = 0.5,
segment.font = 3,
segment.main.font = 2,
segment.main = "Median PFS in months (95% CI)",
segment.cex = 0.8,
segment.annotation.col = "darkgray"
)
surv.plot(fit_lung_arm_m,
col = c("cadetblue2", "cadetblue"),
legend.name = c("male", "female"),
segment.timepoint = 18,
segment.annotation = "top",
time.unit = "month"
)
surv.plot(fit_lung_arm_m,
col = c("cadetblue2", "cadetblue"),
legend.name = c("male", "female"),
time.unit = "month",
segment.quantile = 0.5,
segment.font = 3,
segment.main.font = 2,
segment.main = "Median PFS in months (95% CI)",
segment.cex = 0.8,
segment.annotation.col = "darkgray"
)
devtools::build_vignettes()
devtools::build_vignettes()
surv.plot(fit_lung_arm_m,
col = c("cadetblue2", "cadetblue"),
legend.name = c("male", "female"),
stat = "coxph_logrank",
reference.arm = "female"
)
surv.plot(fit_lung_arm_m,
col = c("cadetblue2", "cadetblue"),
legend.name = c("male", "female"),
stat = "coxph_logrank",
reference.arm = 2
)
surv.plot(fit_lung_arm_m,
col = c("cadetblue2", "cadetblue"),
legend.name = c("male", "female"),
stat = "coxph_logrank",
reference.arm = 1
)
surv.plot(fit_lung_arm_m,
stat.fit = fit_lung_stratified,
col = c("cadetblue2", "cadetblue"),
legend.name = c("female", "male"),
stat = "coxph_logrank"
)
surv.plot(fit_lung_arm_m,
col = c("cadetblue2", "cadetblue"),
legend.name = c("female", "male"),
stat = "coxph_logrank",
stat.conf.int = 0.9
)
